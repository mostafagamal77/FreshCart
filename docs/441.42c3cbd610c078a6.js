"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[441],{8441:($,c,m)=>{m.r(c),m.d(c,{AuthModule:()=>M});var d=m(6814),n=m(95),p=m(1120),e=m(4769),_=m(139);function h(t,l){1&t&&(e.TgZ(0,"div",11)(1,"p",12),e._uU(2,"Incorrect Email Or Password"),e.qZA()())}function Z(t,l){1&t&&(e.TgZ(0,"p",15),e._uU(1," Email is required "),e.qZA())}function v(t,l){1&t&&(e.TgZ(0,"p",15),e._uU(1," Enter Valid Email "),e.qZA())}function T(t,l){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,Z,2,0,"p",14),e.YNc(2,v,2,0,"p",14),e.qZA()),2&t){const i=e.oxw();let o,r;e.xp6(1),e.Q6J("ngIf",null==(o=i.loginForm.get("email"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=i.loginForm.get("email"))?null:r.getError("pattern"))}}function x(t,l){1&t&&(e.TgZ(0,"p",15),e._uU(1," Password is required "),e.qZA())}function A(t,l){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,x,2,0,"p",14),e.qZA()),2&t){const i=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=i.loginForm.get("password"))?null:o.getError("required"))}}function w(t,l){1&t&&(e.TgZ(0,"div",14)(1,"p",15),e._uU(2,"Account Already Exists"),e.qZA()())}function I(t,l){1&t&&(e.TgZ(0,"p",18),e._uU(1," Username is required "),e.qZA())}function F(t,l){1&t&&(e.TgZ(0,"p",18),e._uU(1," Min length is 3 "),e.qZA())}function b(t,l){1&t&&(e.TgZ(0,"p",18),e._uU(1," Max length is 20 "),e.qZA())}function C(t,l){1&t&&(e.TgZ(0,"p",18),e._uU(1," Enter Valid Name "),e.qZA())}function N(t,l){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,I,2,0,"p",17),e.YNc(2,F,2,0,"p",17),e.YNc(3,b,2,0,"p",17),e.YNc(4,C,2,0,"p",17),e.qZA()),2&t){const i=e.oxw();let o,r,s,a;e.xp6(1),e.Q6J("ngIf",null==(o=i.registerForm.get("name"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=i.registerForm.get("name"))?null:r.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(s=i.registerForm.get("name"))?null:s.getError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==(a=i.registerForm.get("name"))?null:a.getError("pattern"))}}function U(t,l){1&t&&(e.TgZ(0,"p",18),e._uU(1," Email is required "),e.qZA())}function J(t,l){1&t&&(e.TgZ(0,"p",18),e._uU(1," Enter Valid Email "),e.qZA())}function E(t,l){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,U,2,0,"p",17),e.YNc(2,J,2,0,"p",17),e.qZA()),2&t){const i=e.oxw();let o,r;e.xp6(1),e.Q6J("ngIf",null==(o=i.registerForm.get("email"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=i.registerForm.get("email"))?null:r.getError("pattern"))}}function R(t,l){1&t&&(e.TgZ(0,"p",18),e._uU(1," Password is required "),e.qZA())}function Y(t,l){1&t&&(e.TgZ(0,"p",18),e._uU(1," password must has Minimum 8 characters, at least one letter, one number and one special character (@$!%*#?&) "),e.qZA())}function y(t,l){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,R,2,0,"p",17),e.YNc(2,Y,2,0,"p",17),e.qZA()),2&t){const i=e.oxw();let o,r;e.xp6(1),e.Q6J("ngIf",null==(o=i.registerForm.get("password"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=i.registerForm.get("password"))?null:r.getError("pattern"))}}function Q(t,l){1&t&&(e.TgZ(0,"div",16)(1,"p",18),e._uU(2,"rePassword is not matched"),e.qZA()())}function P(t,l){1&t&&(e.TgZ(0,"p",18),e._uU(1," Phone is required "),e.qZA())}function k(t,l){1&t&&(e.TgZ(0,"p",18),e._uU(1," Enter Valid Phone "),e.qZA())}function L(t,l){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,P,2,0,"p",17),e.YNc(2,k,2,0,"p",17),e.qZA()),2&t){const i=e.oxw();let o,r;e.xp6(1),e.Q6J("ngIf",null==(o=i.registerForm.get("phone"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=i.registerForm.get("phone"))?null:r.getError("pattern"))}}const z=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class t{constructor(i,o){this._AuthService=i,this._Router=o,this.loginError=!1,this.loginForm=new n.cw({email:new n.NI(null,[n.kI.required]),password:new n.NI(null,[n.kI.required])})}signin(){this.loginForm.valid&&this._AuthService.handleSignIn(this.loginForm.value).subscribe({next:i=>{this.loginError=!1,"success"==i.message&&(localStorage.setItem("token",i.token),this._AuthService.userIsLogedIn.next(!0),this._Router.navigate(["/home"]))},error:i=>{this.loginError=!0}})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(_.e),e.Y36(p.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:21,vars:5,consts:[[1,"login"],[1,"container","my-5"],[3,"formGroup","ngSubmit"],["class","alert alert-danger text-center fw-medium",4,"ngIf"],["type","email","placeholder","Email...","formControlName","email",1,"form-control","mt-2","mb-2"],["class","alert alert-danger mb-3 p-2 fw-medium",4,"ngIf"],["type","password","placeholder","Password...","formControlName","password",1,"form-control","mt-2","mb-2"],[1,"d-flex","align-items-center","gap-3","mt-3"],["type","submit",1,"btn","main-btn",3,"disabled"],[1,"text-capitalize"],["routerLink","/auth/register",1,"text-main","pointer"],[1,"alert","alert-danger","text-center","fw-medium"],[1,"mb-0"],[1,"alert","alert-danger","mb-3","p-2","fw-medium"],["class","mb-0 text-capitalize",4,"ngIf"],[1,"mb-0","text-capitalize"]],template:function(o,r){if(1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return r.signin()}),e.YNc(3,h,3,0,"div",3),e.TgZ(4,"div")(5,"label"),e._uU(6,"Email:"),e.qZA(),e._UZ(7,"input",4),e.YNc(8,T,3,2,"div",5),e.qZA(),e.TgZ(9,"div")(10,"label"),e._uU(11,"Password"),e.qZA(),e._UZ(12,"input",6),e.YNc(13,A,2,1,"div",5),e.qZA(),e.TgZ(14,"div",7)(15,"button",8),e._uU(16," Login "),e.qZA(),e.TgZ(17,"div",9),e._uU(18," don't have an email? "),e.TgZ(19,"span",10),e._uU(20,"Register"),e.qZA()()()()()()),2&o){let s,a;e.xp6(2),e.Q6J("formGroup",r.loginForm),e.xp6(1),e.Q6J("ngIf",r.loginError),e.xp6(5),e.Q6J("ngIf",(null==(s=r.loginForm.get("email"))?null:s.invalid)&&(null==(s=r.loginForm.get("email"))?null:s.touched)),e.xp6(5),e.Q6J("ngIf",(null==(a=r.loginForm.get("password"))?null:a.invalid)&&(null==(a=r.loginForm.get("password"))?null:a.touched)),e.xp6(2),e.Q6J("disabled",!r.loginForm.valid)}},dependencies:[d.O5,p.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]})}return t})()},{path:"register",component:(()=>{class t{constructor(i,o){this._AuthService=i,this._Router=o,this.registerError=!1,this.isPassMatch=!1,this.registerForm=new n.cw({name:new n.NI(null,[n.kI.required,n.kI.minLength(3),n.kI.maxLength(20),n.kI.pattern(/^[a-zA-Z0-9][a-zA-Z0-9]{0,}$/)]),email:new n.NI(null,[n.kI.required,n.kI.pattern(/^[a-z0-9]+@[a-z]+\.[a-z]{2,3}$/)]),password:new n.NI(null,[n.kI.required,n.kI.pattern(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/)]),rePassword:new n.NI(null,[n.kI.required]),phone:new n.NI(null,[n.kI.required,n.kI.pattern(/^01[0125][0-9]{8}$/)])})}signUp(){this.registerForm.valid&&(console.log(this.registerForm.value),this._AuthService.handleSignUp(this.registerForm.value).subscribe({next:i=>{this.registerError=!1,"success"==i.message&&this._Router.navigate(["/auth"])},error:i=>{this.registerError=!0}}))}matchPass(){this.isPassMatch=this.registerForm.value.password==this.registerForm.value.rePassword}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(_.e),e.Y36(p.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:36,vars:8,consts:[[1,"register"],[1,"container","my-5"],[3,"formGroup","ngSubmit"],["class","alert alert-danger text-center fw-medium",4,"ngIf"],["type","text","placeholder","Name...","formControlName","name",1,"form-control","mt-2","mb-2"],["class","alert alert-danger mb-3 p-2 fw-medium",4,"ngIf"],["type","email","placeholder","Email...","formControlName","email",1,"form-control","mt-2","mb-2"],["type","password","placeholder","Password...","formControlName","password",1,"form-control","mt-2","mb-2",3,"keyup"],["type","password","placeholder","rePassword...","formControlName","rePassword",1,"form-control","mt-2","mb-2",3,"keyup"],["type","tel","placeholder","Phone...","formControlName","phone",1,"form-control","mt-2","mb-2"],[1,"d-flex","align-items-center","gap-3","mt-3"],["type","submit",1,"btn","main-btn",3,"disabled"],[1,"text-capitalize"],["routerLink","/auth",1,"text-main","pointer"],[1,"alert","alert-danger","text-center","fw-medium"],[1,"mb-0"],[1,"alert","alert-danger","mb-3","p-2","fw-medium"],["class","mb-0 text-capitalize",4,"ngIf"],[1,"mb-0","text-capitalize"]],template:function(o,r){if(1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return r.signUp()}),e.YNc(3,w,3,0,"div",3),e.TgZ(4,"div")(5,"label"),e._uU(6,"User Name:"),e.qZA(),e._UZ(7,"input",4),e.YNc(8,N,5,4,"div",5),e.qZA(),e.TgZ(9,"div")(10,"label"),e._uU(11,"Email:"),e.qZA(),e._UZ(12,"input",6),e.YNc(13,E,3,2,"div",5),e.qZA(),e.TgZ(14,"div")(15,"label"),e._uU(16,"Password"),e.qZA(),e.TgZ(17,"input",7),e.NdJ("keyup",function(){return r.matchPass()}),e.qZA(),e.YNc(18,y,3,2,"div",5),e.qZA(),e.TgZ(19,"div")(20,"label"),e._uU(21,"rePassword"),e.qZA(),e.TgZ(22,"input",8),e.NdJ("keyup",function(){return r.matchPass()}),e.qZA(),e.YNc(23,Q,3,0,"div",5),e.qZA(),e.TgZ(24,"div")(25,"label"),e._uU(26,"Phone"),e.qZA(),e._UZ(27,"input",9),e.YNc(28,L,3,2,"div",5),e.qZA(),e.TgZ(29,"div",10)(30,"button",11),e._uU(31," Register "),e.qZA(),e.TgZ(32,"div",12),e._uU(33," have an email? "),e.TgZ(34,"span",13),e._uU(35,"Login"),e.qZA()()()()()()),2&o){let s,a,u,f,g;e.xp6(2),e.Q6J("formGroup",r.registerForm),e.xp6(1),e.Q6J("ngIf",r.registerError),e.xp6(5),e.Q6J("ngIf",(null==(s=r.registerForm.get("name"))?null:s.invalid)&&(null==(s=r.registerForm.get("name"))?null:s.touched)),e.xp6(5),e.Q6J("ngIf",(null==(a=r.registerForm.get("email"))?null:a.invalid)&&(null==(a=r.registerForm.get("email"))?null:a.touched)),e.xp6(5),e.Q6J("ngIf",(null==(u=r.registerForm.get("password"))?null:u.invalid)&&(null==(u=r.registerForm.get("password"))?null:u.touched)),e.xp6(5),e.Q6J("ngIf",!r.isPassMatch&&(null==(f=r.registerForm.get("rePassword"))?null:f.touched)),e.xp6(5),e.Q6J("ngIf",(null==(g=r.registerForm.get("phone"))?null:g.invalid)&&(null==(g=r.registerForm.get("phone"))?null:g.touched)),e.xp6(2),e.Q6J("disabled",!r.registerForm.valid)}},dependencies:[d.O5,p.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]})}return t})()}];let S=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#r=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(z),p.Bz]})}return t})(),M=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#r=this.\u0275inj=e.cJS({imports:[d.ez,S,n.u5,n.UX]})}return t})()}}]);